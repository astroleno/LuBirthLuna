可以，不用 PIP 也能满足目标，而且细节更好。给你两种不经离屏贴图的实现路径，都保留你“月球内部着色、固定屏幕位置、镜头绕地球”的约束。

推荐方案：同画布屏幕后叠加（月球直渲染）

- 屏幕锚定: 继续用 NDC 反投影把月球放到 (0.5, 0.75, z) 射线位置，z 取你期望的视觉深度。
- 渲染顺序: renderOrder 提高，depthTest=false、depthWrite=false，保证始终叠加在地球之上（不受三维场景遮挡）。
- 着色解耦: 只用月球自身的 Shader 计算月相与明暗（不吃 three 的光），光向量统一用“点到光”（Moon→Sun）。
- 潮汐锁定: 以“月→地”向量为 Z 轴构建月球局部系 L，并把贴图经度 -90° 作为“L→纹理”的固定偏移；相机仅决定看到哪里，不改变月面坐标。
- 细节保真: 和主画面同一分辨率/同 dpr 渲染，无 PIP 的降采样损失；可按需开 dpr=[1,2] 或 MSAA/FXAA。

可选方案：覆盖相机图层（无离屏）

- 两个相机，同一渲染器、同一画布：主相机渲地球；覆盖相机只渲月球图层（不清屏、不清深度，仅覆盖叠加）。
- 月球材质仍为内部 Shader；不需要 RenderTarget，因此也没有 PIP 分辨率瓶颈。

关键约束（坐标与符号统一）

- 本地月球系 L: Z_L = normalize(Earth − Moon)（近地点面正向）；用世界 +Y 投影到月盘作为 U_ref，得 R_L = normalize(cross(Z_L, U_ref))，U_L = cross(R_L, Z_L)，保持右手系。
- 光向量: S_world = normalize(Sun − Moon)（点到光），需要时变换到 L 系或投影到盘面决定明暗界。
- “左满右”一致性: 只要 R_L 被投影到屏幕是“屏幕右”，且用“点到光”，盈月右亮、亏月左亮自然成立。
- 相机解耦: 几何可 billboard 以正对屏幕，但“月相/潮锁/贴图取向”只用 L 和 S，不读取相机基向量。

注意事项

- 遮挡需求: 如需偶发的地球遮挡月球，叠加层要做深度比较或基于主场景深度贴图做 discard；否则按叠加策略月球总在最上。
- 性能: 无离屏，像素成本取决于屏幕分辨率；通常小月盘代价可控。贴图各向异性/法线色彩空间要正确设置以保细节。

结论：完全可以不使用 PIP。最佳做法是在同一画布中以屏幕后叠加直渲染月球，内部 Shader 驱动月相与潮锁，几何仅负责屏幕定位与面向，这样既解耦镜头又不损失细节。需要的话我可以把你现
有 SimpleTest 的月球路径按这套约束梳理到位。