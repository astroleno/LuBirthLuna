chunk-RC3YDMAO.js?v=7283c93a:21551 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
SimpleClient.tsx:753 [ClientInit] 客户端模式未对齐，设置 viewOffsetY = 2.0
ephemeris.ts:449 [toUTCFromLocal] 2025-10-06T18:07 (lon:121.5) -> UTC: 2025-10-06T10:07:00.000Z (offset: 8h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间10:7 对应本地时间18:7
constants.ts:50 ✅ 天文常数验证通过
ephemeris.ts:449 [toUTCFromLocal] 2025-10-06T18:07 (lon:121.5) -> UTC: 2025-10-06T10:07:00.000Z (offset: 8h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间10:7 对应本地时间18:7
ephemeris.ts:449 [toUTCFromLocal] 2025-10-06T18:07 (lon:121.5) -> UTC: 2025-10-06T10:07:00.000Z (offset: 8h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间10:7 对应本地时间18:7
ephemeris.ts:464 [TerminatorDebug] Starting calculation: Object
ephemeris.ts:472 [TerminatorDebug] Astronomy objects created: Object
ephemeris.ts:479 [TerminatorDebug] Sun equatorial coordinates: Object
chunk-F5XGK2DS.js?v=7283c93a:17705 [TerminatorDebug] Error in calculation: TypeError: Cannot read properties of undefined (reading 'toFixed')
    at calculateTerminatorLongitude (ephemeris.ts:496:23)
    at calculateDuskLongitude (SimpleClient.tsx:14:10)
    at SimpleClient.tsx:1056:27
    at SimpleClient.tsx:1100:5
    at commitHookEffectListMount (chunk-RC3YDMAO.js?v=7283c93a:16915:34)
    at commitPassiveMountOnFiber (chunk-RC3YDMAO.js?v=7283c93a:18156:19)
    at commitPassiveMountEffects_complete (chunk-RC3YDMAO.js?v=7283c93a:18129:17)
    at commitPassiveMountEffects_begin (chunk-RC3YDMAO.js?v=7283c93a:18119:15)
    at commitPassiveMountEffects (chunk-RC3YDMAO.js?v=7283c93a:18109:11)
    at flushPassiveEffectsImpl (chunk-RC3YDMAO.js?v=7283c93a:19490:11)
console.error @ chunk-F5XGK2DS.js?v=7283c93a:17705
ephemeris.ts:514 [TerminatorDebug] Falling back to simple calculation
ephemeris.ts:449 [toUTCFromLocal] 2025-10-06T18:07 (lon:121.5) -> UTC: 2025-10-06T10:07:00.000Z (offset: 8h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间10:7 对应本地时间18:7
moonPhase.ts:67 [getMoonPhase] 固定月球系统月相计算: Object
Moon.tsx:209 [Moon Phase] 固定月球系统计算: Object
Moon.tsx:277 [Moon Phase] 真实向量太阳方向计算完成: Object
Moon.tsx:297 === 真实向量太阳方向信息 ===
Moon.tsx:298 太阳方向: Array(3)
Moon.tsx:299 位置角: -9.9°
Moon.tsx:300 光照侧（基于真实向量）: 后方（满月）
positionUtils.ts:65 [CameraApply] Object
textureLoader.ts:88 [TextureLoader] 尝试加载纹理: /textures/8k_earth_daymap.webp
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:88 [TextureLoader] 尝试加载纹理: /textures/8k_earth_nightmap.webp
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:88 [TextureLoader] 尝试加载纹理: /textures/2k_earth_normal_map.jpg
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:88 [TextureLoader] 尝试加载纹理: /textures/8k_earth_specular_map.webp
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:88 [TextureLoader] 尝试加载纹理: /textures/8k_earth_displacement_map.jpg
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:88 [TextureLoader] 尝试加载纹理: /textures/8k_earth_clouds.webp
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:88 [TextureLoader] 尝试加载纹理: /textures/2k_moon.jpg
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:88 [TextureLoader] 尝试加载纹理: /textures/2k_moon_normal.jpg
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:88 [TextureLoader] 尝试加载纹理: /textures/2k_moon_displacement.jpg
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:88 [TextureLoader] 尝试加载纹理: /textures/8k_stars_milky_way.webp
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:441 [TextureLoader] 纹理加载状态: Object
chunk-F5XGK2DS.js?v=7283c93a:17705 [VerifyAlignment] 验证失败: ReferenceError: cityName is not defined
    at SimpleClient.tsx:4067:47
    at commitHookEffectListMount (chunk-F5XGK2DS.js?v=7283c93a:10911:34)
    at commitPassiveMountOnFiber (chunk-F5XGK2DS.js?v=7283c93a:12219:19)
    at commitPassiveMountEffects_complete (chunk-F5XGK2DS.js?v=7283c93a:12191:17)
    at commitPassiveMountEffects_begin (chunk-F5XGK2DS.js?v=7283c93a:12181:15)
    at commitPassiveMountEffects (chunk-F5XGK2DS.js?v=7283c93a:12171:11)
    at flushPassiveEffectsImpl (chunk-F5XGK2DS.js?v=7283c93a:13939:11)
    at flushPassiveEffects (chunk-F5XGK2DS.js?v=7283c93a:13902:22)
    at performSyncWorkOnRoot (chunk-F5XGK2DS.js?v=7283c93a:13305:11)
    at flushSyncCallbacks (chunk-F5XGK2DS.js?v=7283c93a:2766:30)
console.error @ chunk-F5XGK2DS.js?v=7283c93a:17705
chunk-F5XGK2DS.js?v=7283c93a:17705 Warning: useEffect must not return anything besides a function, which is used for clean-up. You returned null. If your effect does not require clean up, return undefined (or nothing).
    at NoTiltProbe (http://localhost:5174/@fs/F:/github/LuBirthLuna/src/client/SimpleClient.tsx?t=1759745164416:8980:21)
    at Suspense
    at ErrorBoundary (http://localhost:5174/node_modules/.vite/deps/chunk-F5XGK2DS.js?v=7283c93a:16028:5)
    at FiberProvider (http://localhost:5174/node_modules/.vite/deps/chunk-F5XGK2DS.js?v=7283c93a:17708:21)
    at Provider (http://localhost:5174/node_modules/.vite/deps/chunk-F5XGK2DS.js?v=7283c93a:17317:3)
console.error @ chunk-F5XGK2DS.js?v=7283c93a:17705
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:126 [TextureLoader] ✅ 纹理加载成功: /textures/2k_earth_normal_map.jpg Object
textureLoader.ts:126 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_specular_map.webp Object
textureLoader.ts:126 [TextureLoader] ✅ 纹理加载成功: /textures/2k_moon_displacement.jpg Object
textureLoader.ts:126 [TextureLoader] ✅ 纹理加载成功: /textures/8k_stars_milky_way.webp Object
textureLoader.ts:126 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_nightmap.webp Object
textureLoader.ts:126 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_displacement_map.jpg Object
textureLoader.ts:126 [TextureLoader] ✅ 纹理加载成功: /textures/2k_moon.jpg Object
textureLoader.ts:126 [TextureLoader] ✅ 纹理加载成功: /textures/2k_moon_normal.jpg Object
textureLoader.ts:126 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_daymap.webp Object
textureLoader.ts:126 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_clouds.webp Object
SimpleClient.tsx:1311 Uncaught ReferenceError: audioElRef is not defined
    at SimpleTest (SimpleClient.tsx:1311:23)
    at renderWithHooks (chunk-RC3YDMAO.js?v=7283c93a:11548:26)
    at updateFunctionComponent (chunk-RC3YDMAO.js?v=7283c93a:14582:28)
    at beginWork (chunk-RC3YDMAO.js?v=7283c93a:15924:22)
    at HTMLUnknownElement.callCallback2 (chunk-RC3YDMAO.js?v=7283c93a:3674:22)
    at Object.invokeGuardedCallbackDev (chunk-RC3YDMAO.js?v=7283c93a:3699:24)
    at invokeGuardedCallback (chunk-RC3YDMAO.js?v=7283c93a:3733:39)
    at beginWork$1 (chunk-RC3YDMAO.js?v=7283c93a:19765:15)
    at performUnitOfWork (chunk-RC3YDMAO.js?v=7283c93a:19198:20)
    at workLoopSync (chunk-RC3YDMAO.js?v=7283c93a:19137:13)
SimpleClient.tsx:1311 Uncaught ReferenceError: audioElRef is not defined
    at SimpleTest (SimpleClient.tsx:1311:23)
    at renderWithHooks (chunk-RC3YDMAO.js?v=7283c93a:11548:26)
    at updateFunctionComponent (chunk-RC3YDMAO.js?v=7283c93a:14582:28)
    at beginWork (chunk-RC3YDMAO.js?v=7283c93a:15924:22)
    at HTMLUnknownElement.callCallback2 (chunk-RC3YDMAO.js?v=7283c93a:3674:22)
    at Object.invokeGuardedCallbackDev (chunk-RC3YDMAO.js?v=7283c93a:3699:24)
    at invokeGuardedCallback (chunk-RC3YDMAO.js?v=7283c93a:3733:39)
    at beginWork$1 (chunk-RC3YDMAO.js?v=7283c93a:19765:15)
    at performUnitOfWork (chunk-RC3YDMAO.js?v=7283c93a:19198:20)
    at workLoopSync (chunk-RC3YDMAO.js?v=7283c93a:19137:13)
chunk-F5XGK2DS.js?v=7283c93a:17705 The above error occurred in the <SimpleTest> component:

    at SimpleTest (http://localhost:5174/@fs/F:/github/LuBirthLuna/src/client/SimpleClient.tsx?t=1759745164416:604:29)
    at Page
    at App

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
console.error @ chunk-F5XGK2DS.js?v=7283c93a:17705
chunk-RC3YDMAO.js?v=7283c93a:19413 Uncaught ReferenceError: audioElRef is not defined
    at SimpleTest (SimpleClient.tsx:1311:23)
    at renderWithHooks (chunk-RC3YDMAO.js?v=7283c93a:11548:26)
    at updateFunctionComponent (chunk-RC3YDMAO.js?v=7283c93a:14582:28)
    at beginWork (chunk-RC3YDMAO.js?v=7283c93a:15924:22)
    at beginWork$1 (chunk-RC3YDMAO.js?v=7283c93a:19753:22)
    at performUnitOfWork (chunk-RC3YDMAO.js?v=7283c93a:19198:20)
    at workLoopSync (chunk-RC3YDMAO.js?v=7283c93a:19137:13)
    at renderRootSync (chunk-RC3YDMAO.js?v=7283c93a:19116:15)
    at recoverFromConcurrentError (chunk-RC3YDMAO.js?v=7283c93a:18736:28)
    at performConcurrentWorkOnRoot (chunk-RC3YDMAO.js?v=7283c93a:18684:30)
Clouds.tsx:756 [Clouds] ✅ 云层材质创建成功
Clouds.tsx:756 [Clouds] ✅ 云层材质创建成功
Clouds.tsx:756 [Clouds] ✅ 云层材质创建成功
Clouds.tsx:756 [Clouds] ✅ 云层材质创建成功
Clouds.tsx:756 [Clouds] ✅ 云层材质创建成功
Clouds.tsx:756 [Clouds] ✅ 云层材质创建成功
Clouds.tsx:1149 [CloudsWithLayers] 初始化 6 层云系统，层间距: 0.001
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:180 [TextureLoader] 纹理状态: Object
textureLoader.ts:441 [TextureLoader] 纹理加载状态: Object
chunk-F5XGK2DS.js?v=7283c93a:10674 Uncaught TypeError: destroy is not a function
    at safelyCallDestroy (chunk-F5XGK2DS.js?v=7283c93a:10757:13)
    at commitHookEffectListUnmount (chunk-F5XGK2DS.js?v=7283c93a:10881:19)
    at commitPassiveUnmountInsideDeletedTreeOnFiber (chunk-F5XGK2DS.js?v=7283c93a:12346:17)
    at commitPassiveUnmountEffectsInsideOfDeletedTree_begin (chunk-F5XGK2DS.js?v=7283c93a:12308:13)
    at commitPassiveUnmountEffects_begin (chunk-F5XGK2DS.js?v=7283c93a:12244:19)
    at commitPassiveUnmountEffects (chunk-F5XGK2DS.js?v=7283c93a:12232:11)
    at flushPassiveEffectsImpl (chunk-F5XGK2DS.js?v=7283c93a:13938:11)
    at flushPassiveEffects (chunk-F5XGK2DS.js?v=7283c93a:13902:22)
    at chunk-F5XGK2DS.js?v=7283c93a:13793:17
    at workLoop (chunk-F5XGK2DS.js?v=7283c93a:274:42)
chunk-F5XGK2DS.js?v=7283c93a:17705 The above error occurred in the <NoTiltProbe> component:

    at NoTiltProbe (http://localhost:5174/@fs/F:/github/LuBirthLuna/src/client/SimpleClient.tsx?t=1759745164416:8980:21)
    at Suspense
    at ErrorBoundary (http://localhost:5174/node_modules/.vite/deps/chunk-F5XGK2DS.js?v=7283c93a:16028:5)
    at FiberProvider (http://localhost:5174/node_modules/.vite/deps/chunk-F5XGK2DS.js?v=7283c93a:17708:21)
    at Provider (http://localhost:5174/node_modules/.vite/deps/chunk-F5XGK2DS.js?v=7283c93a:17317:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
console.error @ chunk-F5XGK2DS.js?v=7283c93a:17705
chunk-F5XGK2DS.js?v=7283c93a:2776 Uncaught TypeError: destroy is not a function
    at safelyCallDestroy (chunk-F5XGK2DS.js?v=7283c93a:10757:13)
    at commitHookEffectListUnmount (chunk-F5XGK2DS.js?v=7283c93a:10881:19)
    at commitPassiveUnmountInsideDeletedTreeOnFiber (chunk-F5XGK2DS.js?v=7283c93a:12346:17)
    at commitPassiveUnmountEffectsInsideOfDeletedTree_begin (chunk-F5XGK2DS.js?v=7283c93a:12308:13)
    at commitPassiveUnmountEffects_begin (chunk-F5XGK2DS.js?v=7283c93a:12244:19)
    at commitPassiveUnmountEffects (chunk-F5XGK2DS.js?v=7283c93a:12232:11)
    at flushPassiveEffectsImpl (chunk-F5XGK2DS.js?v=7283c93a:13938:11)
    at flushPassiveEffects (chunk-F5XGK2DS.js?v=7283c93a:13902:22)
    at chunk-F5XGK2DS.js?v=7283c93a:13793:17
    at workLoop (chunk-F5XGK2DS.js?v=7283c93a:274:42)
textureLoader.ts:464 [TextureLoader] 🔔 dispatched lubirth:assets-ready
chunk-SMQVUEJW.js?v=7283c93a:17501 THREE.WebGLRenderer: Context Lost.
